<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Текстовий редактор API</title>
    <style>
        #codeEditor {
            width: 100%;
            height: 400px;
            font-family: monospace;
            font-size: 14px;
        }
        #runButton {
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
        #output {
            margin-top: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <nav class ="navbar navbar-expand-sm justify-content-center bg-dark">
        <ul class = "nav">
            <li class ="nav-item">
                <a href="index.html" class = "nav-link text-light">Головна</a>
            </li>
            <li class ="nav-item">
                <a href="AboutUs.html" class = "nav-link text-light">Про нас</a>
            </li>
            <li class ="nav-item">
                <a href="doc.html" class = "nav-link text-light">Документація</a>
            </li>
            <li class ="nav-item">
                <a href="redactor.html" class = "nav-link text-light">Редактор</a>
            </li>
        </ul>
    </nav>
    <textarea id="codeEditor">// Введіть тут свій код API
// Наприклад:
// print("Привіт з текстового редактора!");
// rect(10, 10, 50, 50, "blue");
// image("boombox.jpg", 100, 100, 100, 100);
</textarea>
    <button id="runButton" class="btn btn-primary">Запустити код</button>
    <pre id="output"></pre>
    <canvas id="GameWindow" width="800" height="600"></canvas>

    <script>
        const codeEditor = document.getElementById('codeEditor');
        const runButton = document.getElementById('runButton');
        const outputDiv = document.getElementById('output');
        const gameCanvas = document.getElementById('GameWindow');
        const gameContext = gameCanvas.getContext('2d');

        runButton.addEventListener('click', function() {
            const codeToRun = codeEditor.value;
            outputDiv.textContent = "Виконується код...\n";
            try {
                // Очищаємо канвас перед виконанням
                gameContext.clearRect(0, 0, gameCanvas.width, gameCanvas.height);
                eval(codeToRun);
            } catch (error) {
                console.error("Помилка виконання коду:", error);
                outputDiv.textContent += "\nПомилка виконання: " + error;
            }
        });

        let ctx;

        function print(text){
            console.log(text);
            outputDiv.textContent += text + "\n";
        }
        function println(text){
            console.log(text + "\n");
            outputDiv.textContent += text + "\n";
        }
        function printd(text){
            document.write(text);
        }
        function printlnd(text){
            document.writeln(text);
        }
        function error(text){
            console.error(text);
            outputDiv.textContent += "ПОМИЛКА: " + text + "\n";
        }
        function initC(){
            const canvas = document.getElementById("GameWindow");
            ctx = canvas.getContext('2d');
        }
        function rect(x, y, width, height, color){
            ctx.fillStyle = color;
            ctx.fillRect(x, y, width, height);
        }
        function text(text, x, y, font, color){
            ctx.font = font;
            ctx.fillStyle = color;
            ctx.fillText(text, x, y);
        }
        function image(path, x, y){
            let img = new Image();
            img.src = path;

            img.onload = function(){
                ctx.drawImage(img, x, y);
            }
        }
        function image(path, x, y, width, height){
            let img = new Image();
            img.src = path;

            img.onload = function(){
                ctx.drawImage(img, x, y, width, height);
            }
        }

        initC();
    </script>
</body>
</html>
